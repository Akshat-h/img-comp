(function(e,b){function a(h,g){if(!String.prototype.repeat){g=g||1;return new Array(g+1).join(h)}return h.repeat(g)}var d="imagesCompare",f={initVisibleRatio:0.5,interactionMode:"drag",animationDuration:400,animationEasing:"swing",addSeparator:true,addDragHandle:true,precision:4};function c(j,n){j=e(j);n=e.extend({},f,n);n.roundFactor=parseInt("1"+a("0",n.precision));this._name=d;var H,r,o,K,I=1,z={width:0,height:0,maxWidth:0,maxHeight:0},i={initialised:"imagesCompare:initialised",changed:"imagesCompare:changed",resized:"imagesCompare:resized"};function D(){var N=j.find("img"),O=N.length,Q=0;function P(){if(Q>=O){F()}}N.each(function(){if(e(this)[0].complete){O--;P()}else{e(this).on("load",function(){Q++;P()});e(this).on("error",function(){Q++;P()})}})}D();function F(){E();u();g();e(H).attr("ratio",n.initVisibleRatio);w(n.initVisibleRatio);j.trigger({type:i.initialised})}function y(){e(b).on("resize",function(N){H.css("clip","");u();w(I);j.trigger({type:i.resized,originalEvent:N})})}function g(){n.interactionMode=n.interactionMode.toLowerCase();if(n.interactionMode!="drag"&&n.interactionMode!="mousemove"&&n.interactionMode!="click"){console.warn('No valid interactionMode found, valid values are "drag", "mousemove", "click"')}switch(n.interactionMode){case"drag":G();break;case"mousemove":L();break;case"click":s();break;default:G()}}function G(){if(typeof Hammer=="undefined"){console.error("Please include the hammerjs library for drag support")}B();y()}function L(){k();y()}function s(){A();y()}function A(){j.on("click",function(O){var N=x(O.pageX);w(N)})}function k(){var N=0;var O=1;j.on("mousemove",function(R){R.preventDefault();var P=Date.now();if(P>N+O){N=P;var Q=x(R.pageX);w(Q)}});j.on("mouseout",function(Q){var P=x(Q.pageX);w(P)})}function B(){var N=new Hammer(j[0]);N.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL});N.on("pan",function(P){var O=x(P.srcEvent.pageX);w(O)})}function E(){j.addClass("images-compare-container");j.css("display","inline-block");H=j.find("> *:nth-child(1)");r=j.find("> *:nth-child(2)");H.addClass("images-compare-before");H.css("display","block");r.addClass("images-compare-after");r.css("display","block");if(n.addDragHandle){m()}if(n.addSeparator){v()}}function v(){j.prepend("<div class='images-compare-separator'></div>");o=j.find(".images-compare-separator")}function m(){j.prepend("<div class='images-compare-handle'></div>");K=j.find(".images-compare-handle");K.append("<span class='images-compare-left-arrow'></span>");K.append("<span class='images-compare-right-arrow'></span>")}function u(){var N=r.find("img").first();J(N.width(),N.height(),N.naturalWidth(),N.naturalHeight());j.css("max-width",z.maxWidth+"px");j.css("max-height",z.maxHeight+"px");H.width(z.width);H.height(z.height)}function x(N){return l((N-j.offset().left)/H.width())}function l(N){N=Math.round((N*n.roundFactor))/n.roundFactor;if(N>1){N=1}if(N<0){N=0}return N}function C(O,N,P,Q){e(H).attr("ratio",O).animate({ratio:O},{duration:0});e(H).stop().attr("ratio",O).animate({ratio:N},{duration:P,easing:Q,step:function(R){var S=q(R);I=R;H.attr("ratio",R).css("clip","rect(0, "+S+"px, "+z.height+"px, 0)");if(n.addSeparator){o.css("left",S+"px")}if(n.addDragHandle){K.css("left",S+"px")}},done:function(T,R){var S=e(H).attr("ratio");j.trigger({type:i.changed,ratio:S,value:q(S),animate:true,animation:T,jumpedToEnd:R})}})}function q(N){N=Math.round((N*n.roundFactor))/n.roundFactor;return Math.round(H.width()*N)}function w(Q,O,R,T){if(typeof O=="undefined"){O=false}var P=q(Q);if(O){var N=R?R:n.animationDuration;var S=T?T:n.animationEasing;C(I,Q,N,S);if(I!=Q){j.trigger({type:i.changed,ratio:I,value:P,animate:O})}return}else{H.stop().css("clip","rect(0, "+P+"px, "+z.height+"px, 0)");if(n.addSeparator){e(o).stop().css("left",P+"px")}if(n.addDragHandle){K.css("left",P+"px")}}if(I!=Q){j.trigger({type:i.changed,ratio:Q,value:P,animate:O})}I=Q}function J(O,N,Q,P){if(typeof O!="undefined"){h(O)}if(typeof N!="undefined"){p(N)}if(typeof Q!="undefined"){M(Q)}if(typeof P!="undefined"){t(P)}return z}function h(N){z.width=N;return z}function M(N){z.maxWidth=N;return z}function p(N){z.height=N;return z}function t(N){z.maxHeight=N;return z}return{setValue:function(O,N,P,Q){w(O,N,P,Q);return j},getValue:function(){return I},on:function(N,O){j.on(N,O);return j},off:function(N,O){j.off(N,O);return j},events:function(){return i}}}e.fn.imagesCompare=function(h){var g=e.extend(f,h);return this.each(function(){if(!e.data(this,d)){e.data(this,d,new c(this,g))}})}})(jQuery,window,document);(function(d){var c=["Width","Height"],e,b;b=c.length;for(var a=0;a<b;a++){e=c[a];(function(f,g){d.fn[f]=(f in document.createElement("img"))?function(){return this[0][f]}:function(){var i=this[0],h,j=0;if(i.tagName.toLowerCase()==="img"){h=document.createElement("img");h.src=i.src;j=h[g]}return j}}("natural"+e,e.toLowerCase()))}}(jQuery));